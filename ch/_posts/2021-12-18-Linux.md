---
layout: post
title: 'Linux'
date: 2021-12-18
author: 李乐升
cover: 'http://on2171g4d.bkt.clouddn.com/jekyll-banner.png'
tags: 运维
---

# Linux

## Linux基础

### 虚拟机设置

虚拟机的网络连接三种形式：

#### 桥连接

Linux可以与其它系统进行通信，但是由于IP地址有限，会导致IP冲突

#### NAT（建议）

采用计网中的NAT协议，不会产生IP冲突

#### 主机模式

Linux是一个独立的主机，不能访问外网

## Linux上安装CentOS

### 分区

<img src="C:\Users\asus\Desktop\image-20210128205043475.png" style="zoom: 80%;" />

选择标准分区，最少进行三个分区：

/root分区：

swap交换分区：

/分区：

<img src="C:\Users\asus\AppData\Roaming\Typora\typora-user-images\image-20210128205348323.png" alt="image-20210128205348323" style="zoom:80%;" />

### VMtools

为了方便操作，可以安装VMtool。



## 用户管理

- 添加用户，useradd [选项] 用户名
- 修改密码，passwd 用户名
- 删除用户，userdel 用户名
- 查询用户信息， id 用户名
- 切换用户， su - 切换用户名



## Linux实用指令

### 帮助指令

``` java
// 可以显示出对应指令的使用方法
man 指令
// 只能查看shell内置命令的信息
help 指令
```

### pwd指令

pwd 显示当前工作目录的绝对路径

### ls指令

显示当前目录下的目录和文件

ls -a 显示当前目录所有的文件和目录，包括隐藏的

ls -l 以列表的形式来显示信息

### mkdir

用于创建目录 mkdir [选项] 目录名称 常用选项-p 创建多级目录

### rmdir

用于删除目录 rmdir 要删除的空目录

rmdir只能删除空目录，如果目录中有内容则无法删除，可以选择使用rm -rf 目录名称 删除非空目录

### touch

用于创建一个空文件 touch 文件名称

也可以一次性创建多个文件 文件名称后面空格隔开即可

### cp

用于拷贝文件到指定目录 cp [选项] source[原位置] dest[目标位置] 

常用选项 -r 递归复制整个文件夹

\cp 指令不会提示是否覆盖，会直接进行覆盖操作

### rm

删除文件或者目录

rm -rf 递归删除整个文件夹

rm -f 强制删除不提示

### mv

移动文件与目录或者重命名

mv 文件名 新文件名 （进行重命名操作）

### cat

查看文件内容，只能浏览，不能修改

cat 文件名

cat -n 文件名 ----- 会显示行号

cat 文件名 | more  -------对文件内容进行分页显示 ------ 按空格可以进行翻页

### more

more 要查看的文件 可以对文件进行查看操作

在more查看文件后，还存在很多便捷操作键

| 操作   | 功能说明                             |
| ------ | ------------------------------------ |
| 空格   | 代表向下翻一页                       |
| 回车   | 代表向下翻一行                       |
| q      | 代表立即离开more，不在显示该文件内容 |
| Ctrl+F | 向下滚动一屏                         |
| Ctrl+B | 返回上一屏                           |
| =      | 输出当前行的行号                     |
| :f     | 输出文件名和当前行的行号             |

### less

less用于分屏查看文件内容，它并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，**对于显示大型文件具有较高的效率**

 

| 操作     | 功能说明                                       |
| -------- | ---------------------------------------------- |
| 空格     | 向下翻一页                                     |
| pagedown | 向下翻一页                                     |
| pageup   | 向上翻一页                                     |
| /字符串  | 向下搜寻字符串的功能，n：向下查找，N：向上查找 |
| ?字符串  | 向上搜寻 n，N同上                              |
| q        | 离开                                           |

### >和>>

'>' 输出重定向和>> 追加

ls -l > 文件       列表中的内容写入文件a.txt中（覆盖写）

ls -l >> 文件	列表中的内容追加到文件a.txt的末尾

cat 文件1 > 文件2 将文件1的内容覆盖到文件2

echo “内容” >> 文件 

 ### echo

echo输出内容到控制台

用echo输出环境变量 ： echo $PATH

### head

用于显示文件的开头部分内容，默认情况下显示文件前十行

head -n 5 文件		显示文件前五行内容

### tail

用于输出文件中尾部的内容，默认情况下显示文件尾部十行

tail -f 文件		实时追踪该文档的所有更新 

### ln

ln -s 源文件或者目录 软链接名		给源文件创建一个软链接

### history

查看已经执行过的历史命令，也可以执行历史指令

### find

find指令将从指定目录夏递归的便利其各个子目录，将满足条件的文件或者目录显示在终端

find [搜索范围] [选项]

| 选项            | 功能                                             |
| --------------- | ------------------------------------------------ |
| -name<查询方式> | 按照指定的文件名查找模式查找文件                 |
| -user<用户名>   | 查找属于指定用户名所有文件                       |
| -size<文件大小> | 按照指定的文件大小查找文件     +大于 -小于 =等于 |

find  /home -name hello.txt  		----/home就是搜索范围		--- -name就是选项	---hello.txt就是文件名

find / -size +20M 		在文件根目录下查找文件大小大于20MB的文件

### locate

可以快速定位文件路径

locate 搜索文件

注：由于locate指令基于数据库进行查询，所以第一次运行前，必须使用updatedb指令创建locate数据库

### grep

过滤查找，管道符“|”，表示将前一个命令的处理结果输出传递给后面的命令处理

grep [选项] 查找内容 源文件

| 选项 | 功能               |
| ---- | ------------------ |
| -n   | 显示匹配行以及行号 |
| -i   | 忽略字母大小写     |

### gzip/gunzip

gzip用于压缩文件，gunzip用于解压文件

gzip进行压缩时，原本的文件将不在存在，只有压缩文件

gunzip解压后，压缩文件也无了

### zip/unzip

zip用于压缩文件，unzip用于解压文件

zip -r  	----递归压缩，即压缩整个目录

unzip -d<目录>     ----指定解压后文件的存放目录

例：zip -r mypackage.zip /home/			---> 将home整个文件夹压缩成mypackage.zip

unzip -d /opt/ mypackage.zip 				--->将压缩包解压到/opt目录

### tar

tar指令是打包指令，最后打包的文件是.tar.gz的文件

tar [选项] XXX.tar.gz 打包的内容

| 选项 | 功能               |
| ---- | ------------------ |
| -c   | 产生.tar打包文件   |
| -v   | 显示详细信息       |
| -f   | 指定压缩后的文件名 |
| -z   | 打包同时压缩       |
| -x   | 解包.tar文件       |

打包 -zcvf 		解压 -zxvf

## 组管理和权限管理

